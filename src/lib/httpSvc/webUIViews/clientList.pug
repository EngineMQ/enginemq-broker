extends _base
block content
    .row
        .col-12
            .card

                .card-body.table-responsive.p-0
                    table.table.table-hover.text-nowrap
                        thead
                            tr
                                th ID
                                th Subscriptions
                                th Address
                                th Connected
                        tbody
                            each client in clients
                                tr
                                    td
                                        h5 
                                            a(href='/client/' + client.uniqueId)
                                                = client.clientId
                                    td
                                        if (client.topics)
                                            each topic in client.topics
                                                a(href='/topic/' + topic)
                                                    = topic
                                                br
                                        if (client.subscriptions)
                                            - var subs = [];
                                                each subscription in client.subscriptions
                                                    - subs.push(subscription)
                                            - subs = subs.join('\n')
                                            small
                                                span(title=subs)
                                                    | masks
                                    td
                                        = client.address
                                    td
                                        = client.stat.ageHuman
                                        | 
                                        i.fa.fa-info-circle(title=client.stat.inBytesHuman + " received in " + client.stat.inPacketsHuman + " packets and " + client.stat.outBytesHuman + " sent in " + client.stat.outPacketsHuman + " packets")
